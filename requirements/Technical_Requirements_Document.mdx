# Technical Requirements Document (TRD)
## Location-Based Privacy-Respecting Social Media Platform

**Document Version**: 0.1  
**Date**: September 28, 2025  
**Project**: Privacy Social Media MVP - Technical Requirements  
**Team Size**: 5 developers  
**Timeline**: 8 weeks

---

## 1. Non-Functional Requirements

### 2.2 Content Management
- **FR-007**: Create text-based posts
- **FR-008**: Delete posts with confirmation
- **FR-009**: Post privacy controls (public/followers/private)
- **FR-010**: Content moderation (user reporting, blocking) ???

### 2.3 Location Features
- **FR-011**: Optional location tagging for posts (city/region level, neighborhood?)
- **FR-012**: Location-based content filtering
- **FR-013**: Location privacy controls (show/hide location)
- **FR-014**: Geographic content discovery


---

## 2. System Architecture


---

## 3. Technology Stack

### 3.1 Frontend Stack
- **Framework**: React 18.2+ with TypeScript
- **Build Tool**: ??? (Vite)
- **State Management**:
  - React Query (server state)
- **Routing**: React Router v6
- **Styling**: Tailwind CSS 3.0+
- **Maps**: ???
- **HTTP Client**: Axios
- **Testing**: ???

### 3.2 Backend Stack
- **Framework**: Django 5.2+ with Django REST Framework
- **Language**: Python 3.11+
- **ORM**: Django ORM
- **Migration**: Django migrations
- **Validation**: DRF serializers
- **Authentication**: Django REST Framework JWT
- **Testing**: ???
- **WSGI (Web Server Gateway Interface)**: ??? (Gunicorn, uWSGI, Waitress)
- **Reverse Proxy**: Nginx

### 3.3 Database Stack
- **Primary Database**: PostgreSQL 15+
- **Extensions**: PostGIS (for location data)
- **Connection Pooling**: Django database connection pooling
- **Caching**: ??? (Redis)

### 3.4 Infrastructure Stack
- **Cloud Provider**: AWS
- **Compute**: EC2 t3.micro (MVP)
- **Database**: PostgreSQL
- **Storage**: S3 (future media uploads)
- **Monitoring**: ???
- **CI/CD**: GitHub Actions

### 3.5 ActivityPub Stack (needs clarification)
- **Protocol**: ActivityPub (W3C Recommendation)
- **Content Type**: JSON-LD with Activity Streams 2.0
- **Signatures**: HTTP Signatures (draft-cavage-http-signatures)
- **Discovery**: WebFinger protocol
- **Python Library**: django-activitypub or custom implementation

---

## 4. Database Design

### 4.1 Core Entities
??? Needs significant clarification

### 4.2 Indexing Strategy
- **Primary Keys**: UUID with B-tree indexes
- **Location Queries**: GiST index on location coordinates
- **Timeline Queries**: Composite index on (user_id, created_at)
- **Federation**: Index on actor_url and inbox_url

### 4.3 Data Retention
- **User Data**: Retained until account deletion
- **Posts**: Retained until post deletion
- **Logs**: 30-day retention for debugging
- **Federation Data**: Cache external content for 7 days

---

## 5. Security Requirements

---

## 8. User Interface Requirements

---

## 9. ActivityPub Integration (needs clarification)

---

## 10. Infrastructure and Deployment

---

## 11. Testing and Quality Assurance (at the advisement of tester)


---

## 6. ActivityPub Integration (needs clarification)

---

## 7. Infrastructure and Deployment

---

## 8. Success Criteria

### 8.1 Technical Success
- [ ] All automated tests pass
- [ ] Performance requirements met
- [ ] Security requirements implemented
- [ ] Application deployed and accessible
- [ ] Documentation complete and accurate

---
